<!DOCTYPE html>
<html>
  <head>
    <title>Constellations</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
    <link rel="stylesheet" href="css/jquery.mobile.theme-1.4.2.css" />
    <link rel="stylesheet" href="css/jquery.mobile.icons-1.4.2.css" />
    <link rel="stylesheet" href="css/jquery.mobile.structure-1.4.2.css" /> 
    <script src="js/jquery-1.11.1.js"></script> 
    <script src="js/jquery.mobile-1.4.2.js"></script> 
    <script>
      function setname(cname){
        document.getElementById("imglink").setAttribute("src","IAUdata/" + cname + "_IAU.svg");
        document.getElementById("objectlink").setAttribute("data","wikidata/" + cname + ".html");
        document.getElementById("imageh1").innerHTML=cname;
        document.getElementById("detailh1").innerHTML=cname;
      };
      function ScaleContentToDevice(){ 
        scroll(0, 0); 
        var contentheight = $.mobile.getScreenHeight() - $(".ui-header").outerHeight() 
                      - $(".ui-footer").outerHeight() - $(".ui-content").outerHeight() 
                      + $(".ui-content").height(); 
        $(".ui-content").height(contentheight); 
        //alert("height set to" + contentheight);
      };
      $(document).on( "pageshow", function(){ ScaleContentToDevice(); }); 
      $(window).on("resize orientationchange", function(){ ScaleContentToDevice(); });
    </script>
  </head>
  <body>
    <div data-role="page" id="home" data-theme="a">
      <div data-role="header">
        <h1>Constellations</h1>
      </div>
      <!--<ul id="constellationlist" data-role="listview"> -->
        <!--<li><a href="#image" onClick="setname('Antlia')">Antlia</a></li>-->
      <!--</ul> -->
      <script>
        $(document).on('pagebeforecreate',"#home", function(event){
          var clist=['Andromeda',
          'Antlia','Apus','Aquarius','Aquila','Ara','Aries','Auriga','Bootes','Caelum','Camelopardalis','Cancer','CanesVenatici','CanisMajor','CanisMinor',
          'Capricornus','Carina','Cassiopeia','Centaurus','Cepheus','Cetus','Chamaeleon','Circinus','Columba','ComaBerenices','CoronaAustralis','Corvus',
          'Crater','Crux','Cygnus','Delphinus','Dorado','Draco','Equuleus','Eridanus','Fornax','Gemini','Grus','Hercules','Horologium','Hydra','Hydrus','Indus',
          'Lacerta','Leo','LeoMinor','Lepus','Libra','Lupus','Lynx','Lyra','Mensa','Microscopium','Monoceros','Musca','Norma','Octans','Ophiuchus','Orion','Pavo',
          'Pegasus','Perseus','Phoenix','Pictor','Pisces','PiscisAustrinus','Puppis','Pyxis','Reticulum','Sagitta','Sagittarius','Scorpius','Sculptor','Scutum',
          'SerpensCaput','SerpensCauda','Sextans','Taurus','Telescopium','Triangulum','TriangulumAustrale','Tucana','UrsaMajor','UrsaMinor','Vela','Virgo',
          'Volans','Vulpecula'];
          var arrayLength = clist.length;
          var listhtml = '<ul id="constellationlist" data-role="listview">';
          for(var i =0; i<arrayLength; i++){
            listhtml+= '<li><a href="#image" onClick=\"setname(\'' + clist[i] + '\')\">' + clist[i] + '</a></li>';
          };
          listhtml+= '</ul>';
          //$("#constellationlist").remove();
          $(listhtml).appendTo("#home").enhanceWithin();
          //document.getElementById("constellationlist").innerHTML = listhtml
        });
      </script>      
    </div>
    <div data-role="page" id="image" data-theme="a" width="device-width">
      <div data-role="header">
        <a href="#" data-rel="back" class="ui-btn ui-icon-arrow-l ui-btn-icon-left">Back</a>
        <h1 id="imageh1"></h1>
        <a href="#detail" class="ui-btn ui-icon-info ui-btn-icon-right">Info</a>        
      </div>
      <div data-role="main" class="ui-content">
        <center><img id="imglink" src="#" style="width: 100%" ></img></center>
      </div>
    </div>
    <div data-role="page" id="detail" data-theme="a">
      <div data-role="header">
        <a href="#" data-rel="back" class="ui-btn ui-icon-arrow-l ui-btn-icon-left">Back</a>
        <h1 id="detailh1"></h1>
      </div>
      <div data-role="main" class="ui-content">
        <object id="objectlink" data="#" width="100%" height="100%"></object>
      </div>        
    </div>
  </body>
</html>